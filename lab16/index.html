<!DOCTYPE html>
<html>
<head>
	<!-- This title is used for tabs and bookmarks -->
	<title>Lab 16 - JSON and APIs (XKCD comic!)</title>

	<!-- Use UTF character set, a good idea with any webpage -->
  	<meta charset="UTF-8" />
	<!-- Set viewport so page remains consistently scaled w narrow devices -->
  	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- Include a sitewide CSS file for consistent styling across the site -->
	<link rel="stylesheet" type="text/css" href="../css/site.css">
	<!-- Lab-specifc CSS file for any special styling of this particular page -->
	<link rel="stylesheet" type="text/css" href="css/lab.css">
	
	<!-- load jQuery library to make javascript easier (must be above our lab js)-->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

	<!-- Link JS file-->
	<script src="js/lab.js" defer></script>

</head>
<body>
	<!-- Style this page by changing the CSS in ../css/site.css or css/lab.css -->
	<main id="content">
		<section>
			<h1>Lab 16 - JSON and APIs (XKCD comic!)</h1>
			<div class="minor-section" id="challenge">
					<h2>Challenge</h2>
					<p>The challenge was to figure out how to use AJAX calls and process the resulting JSON data!</p>
			</div>

			<div class="minor-section" id="thoughts">
					<h2>Thoughts</h2>
					<p>
						BE SURE TO GAIN TEMP ACCESS TO THE PROXY <a href="https://cors-anywhere.herokuapp.com/">HERE</a> 
						BEFORE CLICKING THE BUTTON!!!<br><br>
						This lab presented a challenge, in which it seems the xkcd API isn't quite CORS compatible! 
						Both me and my partner ran into this problem and were stumped for a bit. Here's the error we got:<br>
						<img id="error" src="img/error.png" /> <br>
						We were able to figure out a (temporary, janky) solution roughly following
						<a href="https://stackoverflow.com/a/44232651">this Stack Overflow solution</a>, which detailed 
						how to use a demo version of cors-anywhere to use as a proxy to bypass CORS. Because of various 
						issues that come with having a totally open proxy, the developer had to put some limitations on 
						their heroku-hosted version that makes it kind of weird (for one, having to interact with the page 
						for temp access), but for the most part it works! Pretty happy that we found a solution!<br><br>
						Outside of that weird CORS proxy stuff, the rest was pretty easy! I found out that the "settings" 
						for AJAX calls are actually just regular objects with specific keys passed to it, and I also figured 
						out how to use $.when().then(), so all in all I'm pretty happy with my code! Yayy!<br><br><br>
						<i>psst... hover over the comic for a surprise!</i>
					</p>
			</div>

			<div class="minor-section" id="results">
					<h2>Results</h2>
					<button id="init-button">Load up XKCD!</button>
					<div id="output">
						<div id="title">
						</div>
						<div id="comic">
						</div>
						<div id="nav-buttons">
							<button id="next-button" class="hidden">&#60;-</button>
							<button id="prev-button" class="hidden">-&#62;</button>
						</div>
					</div>
					
			</div>
		</section>
		<nav id="links">
			<!-- Put links to other pages (including the homepage) here. -->
			<ul>
				<li><a href="../index.html" target="_new">Homepage</a></li>
			</ul>
		</nav>
	</main>
</body>
</html>
